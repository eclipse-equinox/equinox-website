<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<!-- tpl:insert page="/incubator/security/equinox.htpl" -->
  <title>Equinox Security Home</title>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <style type="text/css">
.input {background: "#ffffcc";color: "#000000" ;font-weight: normal;}
a.nav:link { text-decoration: none; color: "#000000"; }
a.nav:visited { text-decoration: none; color: "#000000"; }
a.nav:hover { text-decoration: underline; color: "#000000"; }
  </style>
  <link rel="stylesheet" href="http://www.eclipse.org/nav_style.css"
 type="text/css">
  <link rel="stylesheet2" href="http://eclipse.org/default_style.css"
 type="text/css">
</head>
<body style="background-color: rgb(255, 255, 255);" rightmargin="0"
 topmargin="0" leftmargin="0" alink="#ff0000" link="#0000ee"
 marginheight="0" vlink="#551a8b">
<!--  start of banner  -->
<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tbody>
    <tr>
      <td width="100%">
      <table bgcolor="#006699" border="0" cellpadding="0"
 cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td bgcolor="#000000" width="116"><a
 href="http://www.eclipse.org" target="_top"><img
 src="http://www.eclipse.org/images/EclipseBannerPic.jpg" border="0"
 height="50" width="115"></a></td>
            <td width="637"><img
 src="http://www.eclipse.org/images/gradient.jpg" border="0" height="50"
 width="282"></td>
            <td nowrap="nowrap" width="250"><img
 src="http://dev.eclipse.org/viewcvs/indextech.cgi/%7Echeckout%7E/equinox-home/security/EJS/icons/eclipse-org-security-small.GIF"
 height="48" width="250"> </td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
  </tbody>
</table>
<!--  end of banner --><!--  start of main frame table -->
<table bgcolor="#90c8ff" border="0" cellpadding="4" cellspacing="0"
 height="100%" width="100%">
  <tbody>
    <tr>
      <td bgcolor="#6699cc" nowrap="nowrap" valign="top" width="160"><!--  start of navigator -->
      <table bgcolor="#90c8ff" border="0" cellpadding="0"
 cellspacing="0" cols="1" width="100%">
        <tbody>
          <tr>
            <td>
            <table bgcolor="#90c8ff" border="0" cellpadding="0"
 cellspacing="0" cols="1" width="100%">
              <tbody>
                <tr>
                  <td bgcolor="#0080c0" height="21" valign="CENTER">&nbsp;
                  <a href="http://www.eclipse.org/equinox" target="_top"
 class="navhead"> equinox home</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr valign="CENTER">
                  <td height="21">&nbsp; <a name="overview"
 href="http://www.eclipse.org/equinox/incubator/security/index.html"
 class="nav">overview</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr width="40" valign="CENTER">
                  <td height="21" width="40">&nbsp; <a
 href="http://www.eclipse.org/equinox/incubator/security/EJS/ejs.html"
 class="nav">rcp plug-in analysis</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr width="40" valign="CENTER">
                  <td height="21" width="40">&nbsp; <a
 href="http://www.eclipse.org/equinox/incubator/security/java2security.html"
 class="nav">java2 security</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr width="40" valign="CENTER">
                  <td height="21" width="40">&nbsp; <a
 href="http://www.eclipse.org/equinox/incubator/security/Signing.html"
 class="nav">plug-in signing</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr width="40" valign="CENTER">
                  <td height="21" width="40">&nbsp; <a
 href="http://www.eclipse.org/equinox/incubator/security/EJS/rcp/keystore.html"
 class="nav">keystore/credentialstore</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr width="40" valign="CENTER">
                  <td height="21" width="40">&nbsp; <a
 href="http://www.eclipse.org/equinox/incubator/security/EJS/rcp/end2end.html"
 class="nav">end to end security</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr width="40" valign="CENTER">
                  <td height="21" width="40">&nbsp; <a
 href="http://www.eclipse.org/equinox/incubator/security/verifier.html"
 class="nav">verifying JAR files</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr width="40" valign="CENTER">
                  <td height="21" width="40">&nbsp; <a
 href="http://www.eclipse.org/equinox/incubator/security/documents/index.html"
 class="nav">documents</a></td>
                </tr>
                <tr>
                  <td bgcolor="#cfffff"><img
 src="http://www.eclipse.org/images/c.gif" height="1" width="1"></td>
                </tr>
                <tr width="40" valign="CENTER">
                  <td height="21" width="40">&nbsp; <a
 href="http://www.eclipse.org/equinox/incubator/security/downloads.html"
 class="nav">downloads</a></td>
                </tr>
              </tbody>
            </table>
            </td>
          </tr>
        </tbody>
      </table>
<!--  end of navigator --> </td>
<!--  start of main content  --> <td bgcolor="white" valign="top"><!-- tpl:put name="bodyarea" -->
      <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td colspan="2" align="left" bgcolor="#0080c0" valign="top"><b><font
 color="#ffffff"> <a name="#RCPPlugin">RCP Plug-in 3.1 (GA)</a></font></b></td>
          </tr>
        </tbody>
      </table>
      <p>Java2 security analysis test results, plug-in status and
changes for Eclipse 3.1 (RCP) plug-ins</p>
      <br>
      <table cellpadding="2">
        <tbody>
          <tr>
            <td valign="top">
            <table style="width: 380px; height: 340px;">
              <tbody>
                <tr bgcolor="silver">
                  <td>Plug-in</td>
                  <td>Review status</td>
                  <td style="width: 40px;">Committed to security branch</td>
                </tr>
                <tr>
                  <td><img src="icons/folder.open.png" alt="Open"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> org.eclipse.core.runtime</td>
                  <td align="center">10%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.sec.png" alt="Secured"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> <a href="3.1GA/org.eclipse.help/Changes.html">org.eclipse.help</a></td>
                  <td align="center">100%<br>
                  </td>
                  <td align="center">Yes<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.sec.png" alt="Secured"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> <a href="3.1GA/org.eclipse.jface/Changes.html">org.eclipse.jface</a><br>
                  </td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">Yes<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.open.png" alt="Open"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> org.eclipse.osgi<br>
                  </td>
                  <td align="center">45%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.open.png" alt="Open"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> org.eclipse.swt.win32<br>
                  </td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.png" with="16"
 alt="No changes required" height="16"> <img src="icons/box1.png"
 alt=" " height="16" width="16"> org.eclipse.swt<br>
                  </td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">N/A<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.open.png" alt="Open"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> org.eclipse.ui.workbench<br>
                  </td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No</td>
                </tr>
                <tr>
                  <td><img src="icons/folder.png" with="16"
 alt="No changes required" height="16"> <img src="icons/box1.png"
 alt=" " height="16" width="16"> org.eclipse.ui<br>
                  </td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">N/A<br>
                  </td>
                </tr>
                <tr>
                  <td style="vertical-align: top;"><img
 src="icons/folder.open.png" alt="Open" height="16" width="16"> <img
 src="icons/box1.png" alt=" " height="16" width="16">org.eclipse.core.commands<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No</td>
                </tr>
                <tr>
                  <td style="vertical-align: top;"><img
 src="icons/folder.sec.png" alt="Secured" height="16" width="16"> <img
 src="icons/box1.png" alt=" " height="16" width="16"> <a
 href="3.1GA/org.eclipse.core.expressions/Changes.html">org.eclipse.core.expressions</a><br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">Yes<br>
                  </td>
                </tr>
                <tr>
                  <td style="vertical-align: top;"><img
 src="icons/folder.sec.png" alt="Secured" height="16" width="16"> <img
 src="icons/box1.png" alt=" " height="16" width="16">org.eclipse.update.configurator<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">Yes<br>
                  </td>
                </tr>
              </tbody>
            </table>
            </td>
            <td width="20"><br>
            </td>
            <td style="color: white;" valign="top">
            <table border="1">
              <tbody>
                <tr>
                  <td style="color: white;" bgcolor="#0080c0"><b>Legend</b></td>
                </tr>
                <tr>
                  <td>
                  <table>
                    <tbody>
                      <tr bgcolor="silver">
                        <td>Plug-in status</td>
                        <td>icon</td>
                      </tr>
                      <tr>
                        <td>Plug-in secured</td>
                        <td><img src="icons/folder.sec.png"
 alt="Secured" height="16" width="16"></td>
                      </tr>
                      <tr>
                        <td>Plug-in NOT secured</td>
                        <td><img src="icons/folder.open.png" alt="Open"
 height="16" width="16"></td>
                      </tr>
                      <tr>
                        <td>No changes required</td>
                        <td><img src="icons/folder.png" with="16"
 alt="No changes required" height="16"></td>
                      </tr>
                      <tr>
                        <td>Analysis Tool Completed OK</td>
                        <td><img src="icons/box1.png" alt=" "
 height="16" width="16"></td>
                      </tr>
                      <tr>
                        <td>Analysis Tool Failed</td>
                        <td><img src="icons/alert.red.png" alt=" "
 height="16" width="16"></td>
                      </tr>
                    </tbody>
                  </table>
                  </td>
                </tr>
              </tbody>
            </table>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td colspan="2" align="left" bgcolor="#0080c0" valign="top"><b><font
 color="#ffffff"> <a name="#RCPPlugin">Non-RCP Plug-in 3.1 (GA)</a></font></b></td>
          </tr>
        </tbody>
      </table>
      <p>Java2 security analysis test results, plug-in status and
changes for Eclipse 3.1 (Non-RCP) plug-ins</p>
      <br>
      <table cellpadding="2">
        <tbody>
          <tr>
            <td valign="top">
            <table style="height: 340px; width: 380px;">
              <tbody>
                <tr bgcolor="silver">
                  <td>Plug-in</td>
                  <td>Review status</td>
                  <td style="width: 40px;">Committed to security branch</td>
                </tr>
                <tr>
                  <td><img src="icons/folder.sec.png" alt="Secured"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> org.eclipse.update.core</td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">Yes<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.open.png" alt="Open"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> org.eclipse.ui.forms<a
 href="3.1GA/org.eclipse.jface/Changes.html"></a> </td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.png" with="16"
 alt="No changes required" height="16"> <img src="icons/box1.png"
 alt=" " height="16" width="16"> org.eclipse.ui.views </td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">N/A<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.png" with="16"
 alt="No changes required" height="16"> <img src="icons/box1.png"
 alt=" " height="16" width="16"> org.eclipse.update.core.win32<br>
                  </td>
                  <td align="center">100%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">N/A<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.png" with="16"
 alt="No changes required" height="16"> <img src="icons/box1.png"
 alt=" " height="16" width="16"> org.eclipse.update.ui<br>
                  </td>
                  <td align="center"><br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No<br>
                  </td>
                </tr>
                <tr>
                  <td><img src="icons/folder.open.png" alt="Open"
 height="16" width="16"> <img src="icons/box1.png" alt=" " height="16"
 width="16"> org.eclipse.core.variables<br>
                  </td>
                  <td align="center"><br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No</td>
                </tr>
                <tr>
                  <td><img src="icons/folder.png" with="16"
 alt="No changes required" height="16"> <img src="icons/box1.png"
 alt=" " height="16" width="16"> org.eclipse.core.resources<br>
                  </td>
                  <td align="center">50%<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No</td>
                </tr>
                <tr>
                  <td style="vertical-align: top;"><img
 src="icons/folder.open.png" alt="Open" height="16" width="16"> <img
 src="icons/box1.png" alt=" " height="16" width="16">org.eclipse.help.ui<br>
                  </td>
                  <td style="vertical-align: top; text-align: center;"><br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No</td>
                </tr>
                <tr>
                  <td style="vertical-align: top;"><img
 src="icons/folder.open.png" alt="Open" height="16" width="16"> <img
 src="icons/box1.png" alt=" " height="16" width="16">
org.eclipse.help.webapp<a
 href="3.1GA/org.eclipse.core.expressions/Changes.html"></a><br>
                  </td>
                  <td style="vertical-align: top; text-align: center;"><br>
                  </td>
                  <td style="vertical-align: top; text-align: center;">No<br>
                  </td>
                </tr>
              </tbody>
            </table>
            </td>
            <td width="20"><br>
            </td>
            <td style="color: white;" valign="top">
            <table border="1">
              <tbody>
                <tr>
                  <td style="color: white;" bgcolor="#0080c0"><b>Legend</b></td>
                </tr>
                <tr>
                  <td>
                  <table>
                    <tbody>
                      <tr bgcolor="silver">
                        <td>Plug-in status</td>
                        <td>icon</td>
                      </tr>
                      <tr>
                        <td>Plug-in secured</td>
                        <td><img src="icons/folder.sec.png"
 alt="Secured" height="16" width="16"></td>
                      </tr>
                      <tr>
                        <td>Plug-in NOT secured</td>
                        <td><img src="icons/folder.open.png" alt="Open"
 height="16" width="16"></td>
                      </tr>
                      <tr>
                        <td>No changes required</td>
                        <td><img src="icons/folder.png" with="16"
 alt="No changes required" height="16"></td>
                      </tr>
                      <tr>
                        <td>Analysis Tool Completed OK</td>
                        <td><img src="icons/box1.png" alt=" "
 height="16" width="16"></td>
                      </tr>
                      <tr>
                        <td>Analysis Tool Failed</td>
                        <td><img src="icons/alert.red.png" alt=" "
 height="16" width="16"></td>
                      </tr>
                    </tbody>
                  </table>
                  </td>
                </tr>
              </tbody>
            </table>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      <br>
      <br>
      <table border="0" cellpadding="2" cellspacing="0" width="100%">
        <tbody>
          <tr>
            <td colspan="2" align="left" bgcolor="#0080c0" valign="top"><b><font
 color="#ffffff"> <a name="#UsingTheAnalysisTool">Using the analysis
tool</a></font></b></td>
          </tr>
        </tbody>
      </table>
      <p>While the analysis tool identifies the locations within the
code where privileges are required, it does not detail how to
appropriately deal with the permission requirement.</p>
      <p>There are only 3 options for dealing with a privileged
operation.</p>
      <ol>
        <li><b>Treat the privileged operation as a <font style="">trusted
library </font> function.</b> This entails:
          <ol>
            <li>wrapping the privileged operation in a privileged action</li>
            <li>Adding the required permissions to the associated
codebase in the java.policy file.</li>
          </ol>
        </li>
        <li><b>Add the required permissions to the .java.policy file.</b>
In this scenario, all classes on the execution stack must have the
required privilege. Any class which does not have the required
permission assignment at runtime will throw a security exception.</li>
        <li><b>Refactor the code so that option one is viable.</b></li>
      </ol>
      <p><b><i>Deciding which approach to take:</i></b><br>
      <br>
      <span style="text-indent: 0.5in;"> <b>Tainted Variables</b><br>
      <p>A privileged operation typically uses parameters, such as
filenames, URLs, usernames, and other inputs. The source of these
inputs can "taint" a call to a privileged operation. Example sources
are method parameters (supplied by caller) and other objects which
return values (e.g. A FileDialog which prompts to the user to supply a
path and filename from the filesystem). This is the "tainted variable"
concept.</p>
      </span></p>
      <p>A reference trace is required to determine what codebases
(.jar files and classes) ultimately make use of a given method. Eclipse
provides a pop-up menu context when a method is selected, <font
 style="background-color: yellow; display: inline;">"Open Call
Heirarchy"</font> which provides the required reference trace. SWORD4J
provides a more precise reference trace. To use SWORD4J's callpath
analysis tool, right mouse-click on a permission marker and select <span
 style="text-indent: 0.5in;"><font
 style="background-color: yellow; display: inline;">"Show callpath"</font></span>.</p>
      <p><span style="text-indent: 0.5in;">
      <p>You would not typically allow a user to read, write, or save a
file from any location in the filesystem if you were trying to protect
data between applications in a framework such as RCP. You would
however, hide the complexities of saving a file so that only the
required file privileges need to be specified. (For example, if your
library implements logging to track changes, this operation is self
contained and could be wrapped in a privileged action so that the
caller does not need both java.io.FilePermission "read,write,delete"
AND java.util.logging.LoggingPermission "control", "").</p>
      </span><br>
      <b>Method visibility and Access modifiers</b><br>
      <span style="text-indent: 0.5in;">
      <p>There is also the issue of the encapsulating methods's
visibility. If a method is pubic, then any class capable of loading the
class with the privileged operation can call it's methods. Great care
should be taken when implementing a publicly visible trusted library
method to avoid unintentionally elevating the privileges of the caller.</p>
      </span></p>
<!-- /tpl:put --><!--  end of main content --> </td>
    </tr>
  </tbody>
</table>
<!--  end of main frame table -->
<!-- /tpl:insert -->
</body>
</html>
