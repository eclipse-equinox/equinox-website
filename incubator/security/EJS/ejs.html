<!-- tpl:insert page="/incubator/security/equinox.htpl" --><!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
<title>Equinox Security Home</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style type="text/css">
.input {background: "#ffffcc";color: "#000000" ;font-weight: normal;}
a.nav:link { text-decoration: none; color: "#000000"; }
a.nav:visited { text-decoration: none; color: "#000000"; }
a.nav:hover { text-decoration: underline; color: "#000000"; }
</style>
<link rel="stylesheet" href="http://www.eclipse.org/nav_style.css" type="text/css">
<link rel="stylesheet2" href="http://eclipse.org/default_style.css" type="text/css">
</head>
<body bgcolor="#ffffff" link="#0000ee" vlink="#551a8b" alink="#ff0000" leftmargin="0" marginheight="0" topmargin="0" rightmargin="0">
<!--  start of banner  -->
 <table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" >
  <tr>
   <td WIDTH="100%">
    <table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" BGCOLOR="#006699" >

     <tr>
          <td BGCOLOR="#000000" width="116" ><a href="http://www.eclipse.org" target="_top"><img src="http://www.eclipse.org/images/EclipseBannerPic.jpg" width="115" height="50" border="0"></a></td>
          <td WIDTH="637"><img SRC="http://www.eclipse.org/images/gradient.jpg" BORDER=0 height=50 width=282></td>
          <td WIDTH="250" nowrap><img SRC="http://dev.eclipse.org/viewcvs/indextech.cgi/~checkout~/equinox-home/security/EJS/icons/eclipse-org-security-small.GIF" width="250" height="48"> </td>
     </tr>
    </table>
   </td>
  </tr>
 </table><!--  end of banner -->
<!--  start of main frame table -->
<table BORDER=0 CELLSPACING=0 CELLPADDING="4" WIDTH="100%" HEIGHT="100%" BGCOLOR="#90C8FF">
<tr><td width="160" valign="top" bgcolor="#6699CC" nowrap>
<!--  start of navigator -->
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 COLS=1 WIDTH="100%"  BGCOLOR="#90C8FF" >
<tr><td>
	<table BORDER=0 CELLSPACING=0 CELLPADDING=0 COLS=1 WIDTH="100%"  BGCOLOR="#90C8FF" >
	  <tr> 
	    <td VALIGN=CENTER HEIGHT="21" BGCOLOR="#0080C0">&nbsp; <a href="http://www.eclipse.org/equinox" target="_top" class="navhead"> 
	      equinox home</a></td>
	  </tr>
	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER> 
	    <td HEIGHT="21">&nbsp; <a name="overview" href="http://www.eclipse.org/equinox/incubator/security/index.html" class="nav" >overview</a></td>
	  </tr>
	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER WIDTH="40"> 
	    <td WIDTH="40" HEIGHT="21">&nbsp; <a href="http://www.eclipse.org/equinox/incubator/security/EJS/ejs.html" class="nav">rcp plug-in analysis</a></td>
	  </tr>
	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER WIDTH="40"> 
	    <td WIDTH="40" HEIGHT="21">&nbsp; <a href="http://www.eclipse.org/equinox/incubator/security/java2security.html" class="nav" >java2 security</a></td>
	  </tr>
	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER WIDTH="40"> 
	    <td WIDTH="40" HEIGHT="21">&nbsp; <a href="http://www.eclipse.org/equinox/incubator/security/Signing.html" class="nav" >plug-in signing</a></td>
	  </tr>

	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER WIDTH="40"> 
	    <td WIDTH="40" HEIGHT="21">&nbsp; <a href="http://www.eclipse.org/equinox/incubator/security/EJS/rcp/keystore.html" class="nav" >keystore/credentialstore</a></td>
	  </tr>

	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER WIDTH="40"> 
	    <td WIDTH="40" HEIGHT="21">&nbsp; <a href="http://www.eclipse.org/equinox/incubator/security/EJS/rcp/end2end.html" class="nav" >end to end security</a></td>
	  </tr>
	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER WIDTH="40"> 
	    <td WIDTH="40" HEIGHT="21">&nbsp; <a href="http://www.eclipse.org/equinox/incubator/security/verifier.html" class="nav" >verifying JAR files</a></td>
	  </tr>
	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER WIDTH="40"> 
	    <td WIDTH="40" HEIGHT="21">&nbsp; <a href="http://www.eclipse.org/equinox/incubator/security/documents/index.html" class="nav" >documents</a></td>
	  </tr>
	  <tr> 
	    <td BGCOLOR="#CFFFFF"><img SRC="http://www.eclipse.org/images/c.gif" height=1 width=1></td>
	  </tr>
	  <tr VALIGN=CENTER WIDTH="40"> 
	    <td WIDTH="40" HEIGHT="21">&nbsp; <a href="http://www.eclipse.org/equinox/incubator/security/downloads.html" class="nav" >downloads</a></td>
	  </tr>

	</table>
</td></tr>
</table>
<!--  end of navigator -->
</td>
<!--  start of main content  -->
<td bgcolor="white" valign="top" >
<!-- tpl:put name="bodyarea" -->
<TABLE border="0" cellspacing="0" cellpadding="2" width="100%">
  <TR> 
    <TD align="LEFT" valign="TOP" colspan="2" bgcolor="#0080C0"><B><FONT color="#FFFFFF"> 
      RCP plug-in analysis</FONT></B></TD>
  </TR>
</TABLE>
<P>Java2 security analysis test results, plug-in status and changes for Eclipse 3.0 (RCP) plug-ins</P>
    <TABLE cellpadding="2">
    <TR><TD valign="top">
        <TABLE>
        <TR bgcolor="silver"><TD>Plug-in</TD><TD>Review status</TD></TR>
        <TR><TD>
		<IMG src="icons/folder.open.png" width="16" height="16" alt="Open">		
   		<IMG src="icons/box1.png" width="16" height="16" alt=" ">
   		<A href="http://www.eclipse.org/equinox/incubator/security/EJS/org_eclipse_core_runtime/PluginChanges.html">org.eclipse.core.runtime</A></TD><TD align="center">50%</TD>        </TR>
        <TR><TD>
		<IMG src="icons/folder.open.png" width="16" height="16" alt="Open">		
  	    <IMG src="icons/box1.png" width="16" height="16" alt=" ">
  	    <A href="org.eclipse.help/PluginChanges.html">org.eclipse.help</A></TD></TR>
        <TR><TD>
		<IMG src="icons/folder.open.png" width="16" height="16" alt="Open">		
		<IMG src="icons/box1.png" width="16" height="16" alt=" ">
		<A href="org.eclipse.jface/PluginChanges.html">org.eclipse.jface</A><BR>
        </TD></TR>
        <TR><TD>
		<IMG src="icons/folder.open.png" width="16" height="16" alt="Open">        
        <IMG src="icons/box1.png" width="16" height="16" alt=" ">
        <A href="org.eclipse.osgi/PluginChanges.html">org.eclipse.osgi</A><BR>
        </TD></TR>
        <TR><TD>
		<IMG src="icons/folder.open.png" width="16" height="16" alt="Open">        
        <IMG src="icons/box1.png" width="16" height="16" alt=" ">
        <A href="org.eclipse.swt.win32/PluginChanges.html">org.eclipse.swt.win32</A><BR>
        </TD></TR>
		<TR><TD>
		<IMG src="icons/folder.open.png" width="16" height="16" alt="Open">        
        <IMG src="icons/box1.png" width="16" height="16" alt=" ">
        <A href="org.eclipse.swt/PluginChanges.html">org.eclipse.swt</A><BR>
		</TD></TR>
		<TR><TD>
		<IMG src="icons/folder.open.png" width="16" height="16" alt="Open">        
        <IMG src="icons/box1.png" width="16" height="16" alt=" ">
        <A href="org.eclipse.ui.workbench/PluginChanges.html">org.eclipse.ui.workbench</A><BR>
		</TD></TR>
        <TR><TD>
		<IMG src="icons/folder.open.png" width="16" height="16" alt="Open">        
        <IMG src="icons/box1.png" width="16" height="16" alt=" ">
        <A href="org-eclipse-ui/PluginChanges.html">org.eclipse.ui</A><BR>
		</TD></TR>
        </TABLE>
    </TD>
    <TD width="20px"> </TD>
	<TD valign="top" style="color:white">
        <TABLE border="1">
        <TR><TD style="color:white" bgcolor="#0080C0"><B>Legend</B></TD></TR>
        <TR><TD>
		<TABLE>
		<TR bgcolor="silver"><TD>Plug-in status</TD><TD>icon</TD></TR>
		<TR><TD>Plug-in secured</TD><TD><IMG src="icons/folder.sec.png" width="16" height="16" alt="Secured"></TD></TR>
		<TR><TD>Plug-in NOT secured</TD><TD><IMG src="icons/folder.open.png" width="16" height="16" alt="Open"></TD></TR>
        <TR><TD>No changes required</TD><TD><IMG src="icons/folder.png" with="16" height="16" alt="No changes required"></TD></TR>
		<TR><TD>Analysis Tool Completed OK</TD><TD><IMG src="icons/box1.png" width="16" height="16" alt=" "></TD></TR>
		<TR><TD>Analysis Tool Failed</TD><TD><IMG src="icons/alert.red.png" width="16" height="16" alt=" "></TD></TR>
		</TABLE>
        </TD></TR>
        </TABLE>
    </TD>
    </TR>
</TABLE>
<BR/>
				<TABLE border="0" cellspacing="0" cellpadding="2" width="100%">
					<TR>
						<TD align="LEFT" valign="TOP" colspan="2" bgcolor="#0080C0"><B><FONT
							color="#FFFFFF"> RCP plug-in analysis ( 3.1.0 M6)</FONT></B></TD>
					</TR>
				</TABLE>
				<BR>
				<TABLE cellpadding="2">
					<TR>
						<TD valign="top">
						<TABLE>
							<TR bgcolor="silver">
								<TD>Plug-in</TD>
								<TD>Review status</TD>
							</TR>
							<TR>
								<TD><IMG src="icons/folder.sec.png" width="16" height="16"
									alt="Secured"><IMG src="icons/box1.png" width="16" height="16"
									alt=" "> <A
									href="M6/org.eclipse.core.runtime/PluginChanges.html">org.eclipse.core.runtime</A></TD>
								<TD align="center">100%</TD>
							</TR>
							<TR>
								<TD><IMG src="icons/folder.open.png" width="16" height="16"
									alt="Open"> <IMG src="icons/box1.png" width="16" height="16"
									alt=" "> <A href="M6/org.eclipse.help/PluginChanges.html">org.eclipse.help</A></TD>
							</TR>
							<TR>
								<TD><IMG src="icons/folder.open.png" width="16" height="16"
									alt="Open"> <IMG src="icons/box1.png" width="16" height="16"
									alt=" "> <A href="M6/org.eclipse.jface/PluginChanges.html">org.eclipse.jface</A><BR>
								</TD>
							</TR>
							<TR>
								<TD><IMG src="icons/folder.open.png" width="16" height="16"
									alt="Open"> <IMG src="icons/box1.png" width="16" height="16"
									alt=" "> <A href="M6/org.eclipse.osgi/PluginChanges.html">org.eclipse.osgi</A><BR>
								</TD>
							</TR>
							<TR>
								<TD><IMG src="icons/folder.open.png" width="16" height="16"
									alt="Open"> <IMG src="icons/box1.png" width="16" height="16"
									alt=" "> <A href="M6/org.eclipse.swt.win32/PluginChanges.html">org.eclipse.swt.win32</A><BR>
								</TD>
							</TR>
							<TR>
								<TD><IMG src="icons/folder.open.png" width="16" height="16"
									alt="Open"> <IMG src="icons/box1.png" width="16" height="16"
									alt=" "> <A href="M6/org.eclipse.swt/PluginChanges.html">org.eclipse.swt</A><BR>
								</TD>
							</TR>
							<TR>
								<TD><IMG src="icons/folder.open.png" width="16" height="16"
									alt="Open"> <IMG src="icons/box1.png" width="16" height="16"
									alt=" "> <A href="M6/org.eclipse.ui.workbench/PluginChanges.html">org.eclipse.ui.workbench</A><BR>
								</TD>
							</TR>
							<TR>
								<TD><IMG src="icons/folder.open.png" width="16" height="16"
									alt="Open"> <IMG src="icons/box1.png" width="16" height="16"
									alt=" "> <A href="M6/org-eclipse-ui/PluginChanges.html">org.eclipse.ui</A><BR>
								</TD>
							</TR>
						</TABLE>
						</TD>
						<TD width="20px"></TD>
						<TD valign="top" style="color:white">
						<TABLE border="1">
							<TR>
								<TD style="color:white" bgcolor="#0080C0"><B>Legend</B></TD>
							</TR>
							<TR>
								<TD>
								<TABLE>
									<TR bgcolor="silver">
										<TD>Plug-in status</TD>
										<TD>icon</TD>
									</TR>
									<TR>
										<TD>Plug-in secured</TD>
										<TD><IMG src="icons/folder.sec.png" width="16" height="16"
											alt="Secured"></TD>
									</TR>
									<TR>
										<TD>Plug-in NOT secured</TD>
										<TD><IMG src="icons/folder.open.png" width="16" height="16"
											alt="Open"></TD>
									</TR>
									<TR>
										<TD>No changes required</TD>
										<TD><IMG src="icons/folder.png" with="16" height="16"
											alt="No changes required"></TD>
									</TR>
									<TR>
										<TD>Analysis Tool Completed OK</TD>
										<TD><IMG src="icons/box1.png" width="16" height="16" alt=" "></TD>
									</TR>
									<TR>
										<TD>Analysis Tool Failed</TD>
										<TD><IMG src="icons/alert.red.png" width="16" height="16"
											alt=" "></TD>
									</TR>
								</TABLE>
								</TD>
							</TR>
						</TABLE>
						</TD>
					</TR>
				</TABLE>
				<DIV>
<BR>
				<TABLE border="0" cellspacing="0" cellpadding="2" width="100%">
  <TR> 
    <TD align="LEFT" valign="TOP" colspan="2" bgcolor="#0080C0"><B><FONT color="#FFFFFF"> 
      <a name="#UsingTheAnalysisTool">Using the analysis tool</a></FONT></B></TD>
  </TR>
</TABLE>
		<p>While the analysis tool identifies the locations within the code where privileges 
		are required, it does not detail how to appropriately deal with the permission 
		requirement.</p>
		<p>There are only 3 options for dealing with a privileged operation.</p>  
		<ol>
		<li><b>Treat the privileged operation as a <font style="italic">trusted library </font> function.</b>
		This entails:
		<ol>
		<li>wrapping the privileged operation in a privileged action</li>
		<li>Adding the required permissions to the associated codebase in the java.policy file.</li>
		</ol>
		<li><b>Add the required permissions to the .java.policy file.</b>  In this scenario, all classes 
		on the execution stack must have the required privilege.   Any class which does not have the required 
		permission assignment at runtime will throw a security exception.</li>
        <li><b>Refactor the code so that option one is viable.</b></li>
		</ol>
		
		<p><b><i>Deciding which approach to take:</i></b><br/>
		<br/>
        <span style="text-indent:.5in">
		<b>Tainted Variables</b><br/>
		<p>A privileged operation typically uses parameters, such as filenames, URLs, usernames,
		and other inputs.   The source of these inputs can "taint" a call to a privileged operation.   Example
		sources are method parameters (supplied by caller) and other objects which return values (e.g. A FileDialog which
		prompts to the user to supply a path and filename from the filesystem).   This is the "tainted variable" concept.</p>
		<p>A reference trace is required to determine what codebases  (.jar files and classes) ultimately make use of a given method.  
		Eclipse provides a pop-up menu context when a method is selected, <font style="background-color:yellow;display:inline">"Open Call Heirarchy"</font> which provides the
		required reference trace.</p>
		<p>You would not typically allow a user to read, write, or save a file from any location in the filesystem if you 
		were trying to protect data between applications in a framework such as RCP.  You would however, hide the 
		complexities of saving a file so that only the required file privileges need to be specified.   (For example, 
		if your library implements logging to track changes, this operation is self contained and could be wrapped in 
		a privileged action so that the caller does not need both java.io.FilePermission "read,write,delete" AND 
		java.util.logging.LoggingPermission "control", "").
		</p></span><br/>
        <b>Method visibility and Access modifiers</b><br/>
		<span style="text-indent:.5in">
		<p> There is also the issue of the encapsulating methods's visibility.   If a method is pubic, then
		any class capable of loading the class with the privileged operation can call it's methods.  Great care 
		should be taken when implementing a publicly visible trusted library method to avoid unintentionally elevating 
		the privileges of the caller.
		</p>

</DIV>
		 		
<!-- /tpl:put -->
<!--  end of main content -->
</td>
</tr>
</table>
<!--  end of main frame table -->
</body>
</html>

<!-- /tpl:insert -->