<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
	<title>The Equinox Project - Security</title>
	<link rel="stylesheet" href="http://eclipse.org/default_style.css" type="text/css">
</head>
<body>
<center>
	<font class=indextop>equinox</font><br>
	<font class=indexsub> eclipse runtime exploration</font><p></p>
	<a href="../index.html">[home]</a>
	<a href="../documents.html">[documents]</a>
	<a href="../downloads.html">[downloads]</a>
	<a href="../areas.html">[work areas]</a>
	<a href="../resources.html">[resources]</a>
	<a href="../faq.html">[faq]</a>
</center>
<br>
<table BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%" >
  <tr> 
    <td ALIGN=LEFT VALIGN=TOP COLSPAN="2" BGCOLOR="#0080C0"><b><font color="#FFFFFF"> 
      Security</font></b></td>
  </tr>
</table>
		 		
<p>There is interest in industry to use Eclipse as a general purpose rich client
  platform. Eclipse was originally conceived as, and was built to be, a framework
  for software development tools. It has evolved to include a generalized Rich
  Client Platform (RCP) suitable for use in a wide range of scenarios. Unfortunately,
  Eclipse includes relatively little support for security and many popular scenarios
  include security requirements. To enable Eclipse as a secure client, we must
  ensure that the infrastructure on which an RCP application is built is secure.
  To that end, there are changes that need to be made to core parts of the Eclipse
RCP. These changes can be broken down into manageable pieces as follows:</p>
<ul>
  <li> Java 2 Security</li>
  <li> Signing plugins</li>
  <li> Authentication, key/credential stores</li>
  <li> End to end (i.e., complete) securing of an Eclipse-based product (install,
    configuration, update, ...)</li>
</ul>
<p>The OSGI framework implementation underlying Eclipse is already security-enabled
  and the OSGi platform specificiation includes various security related services
  such as PermissionsAdmin and UserAdmin. Work on a secure platform will utilize
  existing services and facilities as much as possible.</p>
<h3>Java 2 Security</h3>
<p>The first part is to enable basic Java 2 (J2SE) security sandboxing. This
  requires enabling code-source-based authentication and authorization as implemented
  by a J2SE SecurityManager. From practical experience we know that Eclipse will
  not run if the J2SE SecurityManager is turned on. Also, simply defining a security
  policy that enables Eclipse to run with a SecurityManager is insufficient to
  enable the security sandbox. Modifications to the base platform code are needed
  (e.g., adding calls to AccessController.doPrivileged()) as appropriate in the
  code base. This must be done very carefully to avoid opening security holes
  and affecting performance.</p>
<p>Enabling the security sandbox and defining appropriate security policies can
  be a daunting process if the code base was not designed for security from the
  beginning. We have had some experience with porting applications from JDK 1.1
  security to Java 2 security. We created a tool which would identify locations
  within the code base where AccessController.doPrivileged() calls may be appropriate.
  We then inspected the code to see whether the call was appropriate or might
  open a security hole. If appropriate, the doPrivileged() call is added. Otherwise
  the code needs to be inspected to see where the call may be more appropriate
  and/or do restructuring of the code. While time consuming, it is far less effort
  than alternative approaches, and is less prone to opening security holes. Instead
  of being an intractable problem, the conversion of large applications to Java
  2 security was accomplished in a reasonable timeframe. We propose following
  the same process for adding doPrivileged() to the Eclipse RCP code. </p>
<p>The second part is a review of the Eclipse APIs, needed to identify unsafe
  operations which must be protected by authorization calls or be modified to
  close the holes. For example, there are methods in SWT that allow a program
  to navigate the UI and access Eclipse functionality. While useful, these types
  of methods open up security holes. </p>
<p>In Equinox we have started a project on enabling the Java security sandboxing
  of Eclipse 3.0. We have modified one plugin to demonstrate the feasibility
  of enabling security sandboxing of Eclipse. The Eclipse OSGi bundle has been
  modified to enable launching Eclipse with a Java security sandbox enabled (the
  default JVM SecurityManager). </p>
<p>In addition to code modifications, we must help educate the Eclipse community
  about security and secure coding practices. We have proposed a tutorial, talk,
  demo and BoF at EclipseCon in 2005. We also have both a half day and a one
  day Java 2 security tutorials. We can present these to the Eclipse development
  community.</p>
<h3>Signing Plugins</h3>
<p>A code signing tool already exists within the Java SDK (e.g., jarsigner).
  However, how should PDE be extended to sign plugins? Similarly, what kind of
  interface should be in PDE to define the Java 2 Permissions that a plugin requires
  in a way that the OSGi framework implementation can interpret when bundles
  (plugins/fragments) are loaded?</p>
<h3>Authentication and credential management</h3>
<p>A key part to achieving the vision of the Eclipse RCP as a secure client is
  a well-defined, robust and extensible model for user identification and authentication.
  This is an essential piece of the overall security architecture. It is proposed
  that the Eclipse RCP adopt the <a href="http://java.sun.com/security/jaas/faq.html">Java
  2 Authentication and Authorization Service (JAAS)</a> as the core identification and authorization model. JAAS is included
in the core of Java 1.4.x, but is an extension to Java 1.3.x</p>
<p>JAAS provides a
    framework based on a pluggable architecture. An important aspect of JAAS
  is that it can support a wide variety of authentication mechanisms. An application
  wanting to provide this level of security will have to be &quot;JAAS
  enabled&quot;. Typically a user &quot;logs into&quot; a JAAS enabled application
  similar to how they would log into an operating system.</p>
<p>JAAS represents an authenticated user with the <a href="http://java.sun.com/security/jaas/apidoc/javax/security/auth/Subject.html">Subject
  class</a>. One or more
        Principals (identities) can be associated with a Subject. In most typical
        enterprise
        environments a single user can have multiple identities (Principals)
  that uniquely identify them. JAAS allows for the configuration of LoginModules;
        methods in LoginModule classes are called during authentication and can
        append Principals to the Subject. JAAS Subjects are used as input for
  controlling
        access to system resources (e.g., the file system or the network) configured
        via JAAS Security Policies. In addition a Subject may contain other security
        related attributes. These attributes are called credentials and may contain
information to authenticate the Subject with other services.</p>
<p>Issues:</p>
<ul>
  <li> Assuming some core plugins become security enabled, how will Eclipse be
    packaged &quot;without&quot; security? From a security standpoint, the secure
    version of the platform cannot have security easily disabled or it defeats
    the idea of a secure platform.</li>
  <li> Does the stackable LoginModule architecture of JAAS conflict with the
    plugin nature of Eclipse? Can they be effectively meshed?</li>
  <li> How well (does) this play with the OSGi security model ? Will there be
    detrimental side effects in the that layer of Eclipse?</li>
  <li> JAAS requires a fair amount of administration overhead.</li>
  <li>Support for login dialogs and scoping of plugins based on the authenticated
    user.</li>
</ul>
<h3>End to end security</h3>
<p>TBD</p>
<p><a href="SecurityConcerns.html">Security Concerns on a Pluggable
Applications Platform</a><br>
</p>
<table BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%" >
  <tr> 
    <td ALIGN=LEFT VALIGN=TOP COLSPAN="2" BGCOLOR="#0080C0"><b><font color="#FFFFFF"> 
      Contributors</font></b></td>
  </tr>
</table>
<ul>
</ul>		

</body>
</html>
